name = "snipe-onchainweb"
compatibility_date = "2024-01-01"
main = "workers/chat-api.js"

# Cloudflare Pages configuration
pages_build_output_dir = "Onchainweb/dist"

[build]
command = "cd Onchainweb && npm install && npm run build"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "snipe-chat-db"
database_id = "YOUR_DATABASE_ID" # Replace with your D1 database ID

# Observability settings for consistent deployments
[observability]
enabled = true
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = true
persist = true
head_sampling_rate = 1
