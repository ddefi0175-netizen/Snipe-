name = "snipe-workers"
main = "workers/index.js"
compatibility_date = "2024-01-01"
account_id = "eb568c24da7c746c95353226eb665d00"

[[kv_namespaces]]
binding = "CACHE"
id = "488840361a874877b2b54506b15f746a"
preview_id = "488840361a874877b2b54506b15f746a"

[[r2_buckets]]
binding = "STORAGE"
bucket_name = "onchainweb"
preview_bucket_name = "onchainweb"

[vars]
FIREBASE_PROJECT_ID = "onchainweb-b4b36"
FIREBASE_DATABASE_URL = "https://onchainweb-b4b36-default-rtdb.asia-southeast1.firebasedatabase.app"
TELEGRAM_BOT_TOKEN = "8535105293:AAGb-LRbaX8cwlfI6W_TJnlw6Az09Cd6oJ4"
TELEGRAM_USERNAME = "goblin_niko4"

[build]
command = "npm install && npm run build"

[env.production]
name = "snipe-workers-production"

# Cloudflare Pages configuration
pages_build_output_dir = "Onchainweb/dist"

# D1 Database binding (legacy - kept for compatibility)
[[d1_databases]]
binding = "DB"
database_name = "onchainweb"
database_id = "e3f277bd-092a-41d6-a477-4521200c79fe"

# Observability settings
[observability]
enabled = true
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = true
persist = true
head_sampling_rate = 1
